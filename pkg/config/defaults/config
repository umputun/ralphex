# ralphex configuration
# copy this file to ~/.config/ralphex/config and modify as needed
#
# config values in this file can be overridden by CLI flags.
# precedence (highest to lowest): CLI flags > local config (.ralphex/) > global config (~/.config/ralphex/) > embedded defaults
#
# NOTE: inline comments (e.g., "key = value # comment") are NOT supported.
# use full-line comments starting with # on a separate line instead.
# this is required to support hex color values like #00ff00.

# ------------------------------------------------------------------------------
# claude executor
# ------------------------------------------------------------------------------

# claude_command: the command to run claude code
# default: "claude"
claude_command = claude

# claude_args: arguments passed to claude command
# --dangerously-skip-permissions: bypass permission prompts for autonomous execution
# --output-format stream-json: output JSON events for progress tracking
# --verbose: enable detailed logging
claude_args = --dangerously-skip-permissions --output-format stream-json --verbose

# ------------------------------------------------------------------------------
# codex executor
# ------------------------------------------------------------------------------

# codex_enabled: whether to run codex (GPT-5.2) external review phase
# set to false to skip codex review entirely
# default: true
codex_enabled = true

# codex_command: the command to run openai codex
# default: "codex"
codex_command = codex

# codex_model: model ID for codex
# available models: gpt-5.2-codex, gpt-5.2-codex-preview
# default: gpt-5.2-codex
codex_model = gpt-5.2-codex

# codex_reasoning_effort: reasoning effort level for codex
# available: low, medium, high, xhigh
# default: xhigh
codex_reasoning_effort = xhigh

# codex_timeout_ms: timeout for codex execution in milliseconds
# default: 3600000 (1 hour)
codex_timeout_ms = 3600000

# codex_sandbox: sandbox mode for codex execution
# available: read-only, workspace-write, danger-full-access
# read-only: codex can read files but not write (safest for code review)
# note: in docker, sandbox is auto-disabled (landlock doesn't work in containers)
# default: read-only
codex_sandbox = read-only

# ------------------------------------------------------------------------------
# finalize step
# ------------------------------------------------------------------------------

# finalize_enabled: whether to run finalize step after successful review phases
# runs once at the end, best-effort (failures logged but don't block success)
# default: false
# finalize_enabled = false

# ------------------------------------------------------------------------------
# timing
# ------------------------------------------------------------------------------

# iteration_delay_ms: delay between iterations in milliseconds
# allows for file system sync and prevents rate limiting
# default: 2000
iteration_delay_ms = 2000

# task_retry_count: number of retries if a task fails
# 0 = no retries, 1 = one retry (total 2 attempts)
# default: 1
task_retry_count = 1

# ------------------------------------------------------------------------------
# paths
# ------------------------------------------------------------------------------

# plans_dir: directory where plan files are located
# relative paths are resolved from the project root
# default: docs/plans
plans_dir = docs/plans

# watch_dirs: directories to watch for progress files in dashboard mode
# comma-separated list of paths, relative paths resolved from project root
# if not specified, defaults to current working directory
# example: watch_dirs = /home/user/projects, /var/log/ralphex
# watch_dirs =

# ------------------------------------------------------------------------------
# error pattern detection
# ------------------------------------------------------------------------------

# claude_error_patterns: patterns to detect in claude output indicating errors
# comma-separated list of substrings (case-insensitive matching)
# when detected, ralphex exits gracefully with an informative message
# default: You've hit your limit,API Error:
claude_error_patterns = You've hit your limit,API Error:

# codex_error_patterns: patterns to detect in codex output indicating errors
# comma-separated list of substrings (case-insensitive matching)
# when detected, ralphex exits gracefully with an informative message
# default: Rate limit,quota exceeded
codex_error_patterns = Rate limit,quota exceeded

# ------------------------------------------------------------------------------
# output colors (hex format: #RRGGBB)
# ------------------------------------------------------------------------------

# color_task: task execution phase (green)
color_task = #00ff00

# color_review: review phase (cyan)
color_review = #00ffff

# color_codex: codex external review (magenta)
color_codex = #d096d9

# color_claude_eval: claude evaluation of codex output (light blue)
color_claude_eval = #bdd6ff

# color_warn: warning messages (yellow)
color_warn = #ffc56d

# color_error: error messages (red)
color_error = #ff0000

# color_signal: completion/failure signals (light red)
color_signal = #d25252

# color_timestamp: timestamp prefix (gray)
color_timestamp = #8a8a8a

# color_info: informational messages (light gray)
color_info = #b4b4b4
